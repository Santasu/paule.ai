/* ===== Reset ===== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",system-ui,sans-serif;line-height:1.6;overflow:hidden}
img,svg{max-width:100%;height:auto}

/* ===== Kintamieji (pastelinė paletė) ===== */
:root{
  --bg-primary:#ffffff;
  --bg-secondary:#fbfbfd;
  --bg-tertiary:#f4f5f8;
  --bg-accent:#eef0f6;

  --text-primary:#1f2937;
  --text-secondary:#4b5563;
  --text-muted:#6b7280;

  --border:#e5e7eb;
  --border-light:#f1f5f9;

  --accent:#8EA6FF;
  --accent-hover:#7E98FF;
  --accent-ghost:#EFF3FF;

  --shadow:0 1px 2px rgba(0,0,0,.04);
  --shadow-lg:0 8px 24px rgba(15,23,42,.08);

  --radius:10px;
  --radius-sm:8px;
  --radius-lg:14px;

  --brand-logo-width:2.6cm; /* LOGO dydis */
}
[data-theme="dark"]{
  --bg-primary:#0f1115;
  --bg-secondary:#141821;
  --bg-tertiary:#1a2030;
  --bg-accent:#1e2435;

  --text-primary:#e5e7eb;
  --text-secondary:#cbd5e1;
  --text-muted:#94a3b8;

  --border:#2a3245;
  --border-light:#202738;

  --accent:#A7B6FF;
  --accent-hover:#C1CBFF;
  --accent-ghost:#151a28;
}

body{background:var(--bg-primary);color:var(--text-primary)}
.hidden{display:none !important}

/* ===== Topbar (flex) ===== */
.topbar{
  position:sticky;top:0;
  display:flex;align-items:center;gap:12px;
  height:64px;padding:10px 16px;
  background:color-mix(in srgb,var(--bg-primary),#fff 0%);
  border-bottom:1px solid var(--border);
  backdrop-filter:blur(8px) saturate(120%);
  z-index:200;
}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit}
.brand-icon{width:var(--brand-logo-width);height:auto;display:block}
.brand-name{display:none}
.top-actions{display:flex;gap:8px;margin-left:auto;align-items:center}

.btn{
  border:1px solid var(--border);background:transparent;color:var(--text-primary);
  padding:8px 14px;border-radius:var(--radius);cursor:pointer;font-size:14px;font-weight:700;
  display:inline-flex;align-items:center;gap:8px;transition:.2s;text-decoration:none
}
.btn:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-ghost);transform:translateY(-1px)}
.btn-login{background:var(--accent);border-color:var(--accent);color:#fff;box-shadow:0 2px 10px rgba(142,166,255,.25)}
.btn-login:hover{background:var(--accent-hover);border-color:var(--accent-hover)}
.btn-ghost{background:var(--bg-primary);color:var(--text-primary)} /* Naujas pokalbis – juoda/balta */
.btn-ghost:hover{background:var(--bg-secondary)}
.btn.sm{padding:6px 10px;font-size:12px}

/* ===== Dropdown ===== */
.user-profile{position:relative;display:flex;align-items:center;gap:8px;padding:6px 12px;border:1px solid var(--border);background:var(--bg-secondary);border-radius:var(--radius);cursor:pointer}
.user-profile:hover{border-color:var(--accent);background:var(--accent-ghost)}
.user-avatar{width:28px;height:28px;border-radius:50%;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
.user-name{font-size:14px;font-weight:700;max-width:120px;overflow:hidden;text-overflow:ellipsis}

.profile-dropdown{
  position:absolute;top:100%;right:0;margin-top:10px;min-width:300px;padding:8px;
  background:var(--bg-primary);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow-lg);
  opacity:0;visibility:hidden;transform:translateY(-8px);transition:.2s;z-index:2000
}
.profile-dropdown.active{opacity:1;visibility:visible;transform:translateY(0)}
.dropdown-item{display:flex;align-items:flex-start;gap:12px;padding:10px;border-radius:10px;color:var(--text-primary);cursor:pointer;transition:.15s}
.dropdown-item:hover{background:var(--accent-ghost)}
.dropdown-item.no-hover{cursor:default}
.dropdown-item.no-hover:hover{background:transparent}
.dropdown-divider{height:1px;background:var(--border);margin:8px 0}
.stack{display:flex;flex-direction:column;gap:6px}
.mini-title{font-size:12px;color:var(--text-secondary);font-weight:800;letter-spacing:.3px;text-transform:uppercase}
.row{display:flex;align-items:center}
.gap8{gap:8px}
.radio-pill{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:20px;padding:6px 10px;font-size:13px}
.radio-pill input{accent-color:var(--accent)}
.select.small{padding:8px 10px;font-size:13px}

/* Statistika dropdown viduje */
.stats-grid.in-dropdown{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.stat-chip{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;font-size:12px;color:var(--text-secondary);border:1px solid var(--border);border-radius:8px;background:var(--bg-secondary)}
.stat-count{color:var(--text-primary);font-weight:800}

/* ===== Model bar ===== */
.model-bar{
  position:sticky;top:64px;background:rgba(255,255,255,.92);border-bottom:1px solid var(--border);
  padding:10px 16px;backdrop-filter:blur(8px);z-index:190
}
[data-theme="dark"] .model-bar{background:rgba(15,17,21,.92)}
.model-list{display:flex;gap:8px;justify-content:center;min-width:max-content}
.model-pill{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;border:1px solid var(--border);background:transparent;color:var(--text-primary);font-size:13px;font-weight:800;cursor:pointer;user-select:none;transition:.2s}
.model-pill:hover{border-color:var(--accent);box-shadow:0 4px 12px rgba(142,166,255,.18);transform:translateY(-1px)}
.model-pill.active{background:var(--accent-ghost);border-color:var(--accent);color:var(--accent)}
.model-pill.hidden{display:none}

/* ===== Layout ===== */
.layout{display:grid;grid-template-columns:320px 1fr;height:calc(100vh - 112px);overflow:hidden}
.sidebar{border-right:1px solid var(--border);overflow-y:auto;background:var(--bg-primary);display:flex;flex-direction:column}
.side-section{padding:14px 16px;border-bottom:1px solid var(--border-light)}
.side-title{font-size:11px;letter-spacing:.5px;text-transform:uppercase;color:var(--text-muted);margin-bottom:10px;font-weight:800}
.side-title-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}

/* Chips */
.chip{border:1px solid var(--border);background:var(--bg-secondary);color:var(--text-secondary);padding:8px 12px;border-radius:10px;font-size:13px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:.2s}
.chip:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-ghost);transform:translateY(-2px)}
.specialist-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}

/* Biblioteka / galerija */
.gallery-hero{display:flex;gap:8px;overflow:auto;padding-bottom:6px;margin-bottom:10px}
.gallery-hero img{width:100%;max-width:160px;aspect-ratio:16/9;border-radius:12px;border:1px solid var(--border);background:var(--bg-tertiary)}
.library-section{display:block}
.library-heading{font-size:12px;letter-spacing:.5px;text-transform:uppercase;color:var(--text-muted);margin:10px 0 6px;font-weight:800}
.library-list{list-style:none;display:flex;flex-direction:column;gap:6px}
.library-list li{display:flex;align-items:center;gap:8px;border:1px solid var(--border);background:var(--bg-secondary);padding:8px 10px;border-radius:10px;font-size:13px}

/* Projektai */
.project-item{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;cursor:pointer;border:1px solid var(--border);background:var(--bg-secondary);color:var(--text-secondary);transition:.2s}
.project-item:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-ghost)}

/* ===== Main / Chat ===== */
.main{display:flex;flex-direction:column;overflow:hidden;position:relative;background:var(--bg-primary)}
.chat-area{flex:1;overflow:auto;padding:24px;display:flex;flex-direction:column;gap:16px;padding-bottom:160px}
.welcome{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:46vh;text-align:center}
.welcome h1{font-size:32px;margin-bottom:10px;font-weight:900}
.welcome .brand-word{color:var(--accent)}
.welcome p{color:var(--text-secondary);font-size:15px;max-width:680px;margin-bottom:16px}
.welcome-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.welcome-btn{padding:10px 16px;border:1px solid var(--border);background:var(--bg-secondary);color:var(--text-primary);border-radius:12px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:8px;transition:.2s}
.welcome-btn:hover{background:var(--accent);border-color:var(--accent);color:#fff;transform:translateY(-2px)}

/* ===== Bottom input ===== */
.bottom-section{
  position:fixed;left:50%;transform:translateX(-50%);
  max-width:900px;width:calc(100% - 680px);
  background:rgba(255,255,255,.95);backdrop-filter:blur(10px);
  border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-lg);transition:.3s;z-index:180
}
[data-theme="dark"] .bottom-section{background:rgba(15,17,21,.95)}
.bottom-section.initial-position{bottom:25vh;animation:float 4s ease-in-out infinite}
.bottom-section.after-message{bottom:10px;animation:none}
@keyframes float{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-8px)}}
.input-bar{padding:18px 22px;border-bottom:1px solid var(--border-light)}
.input-container{display:flex;align-items:flex-end;gap:14px;border:1px solid var(--border);background:var(--bg-secondary);border-radius:20px;padding:14px 18px;transition:.2s;box-shadow:0 2px 8px rgba(0,0,0,.03)}
.input-container:focus-within{border-color:var(--accent);box-shadow:0 0 0 3px rgba(142,166,255,.15),0 4px 12px rgba(0,0,0,.06);transform:translateY(-1px)}
.message-input{flex:1;border:none;background:transparent;outline:none;resize:none;max-height:120px;color:var(--text-primary);font-size:15px;line-height:1.5}
.message-input::placeholder{color:var(--text-muted)}
.send-btn{width:42px;height:42px;border-radius:50%;border:none;background:var(--accent);color:#fff;cursor:pointer;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:.15s;box-shadow:0 4px 16px rgba(142,166,255,.35)}
.send-btn:hover{background:var(--accent-hover)}
.send-btn img{width:22px;height:22px}
.tools-bar{padding:12px 18px;display:flex;gap:8px;align-items:center;flex-wrap:nowrap;overflow-x:auto;justify-content:center}
.tool{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--border);background:var(--bg-primary);border-radius:10px;padding:6px 10px;font-size:12px;cursor:pointer;color:var(--text-secondary);white-space:nowrap;transition:.15s}
.tool:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-ghost);transform:translateY(-1px)}

/* ===== Mobile ===== */
.mobile-bottom-bar{display:none}
.mobile-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:80}
.mobile-overlay.active{display:block}

@media (max-width:1024px){
  .layout{grid-template-columns:0 1fr}
  .sidebar{position:fixed;left:-330px;top:112px;width:320px;height:calc(100vh - 112px);z-index:200;transition:left .25s;background:var(--bg-primary);box-shadow:2px 0 10px rgba(0,0,0,.12)}
  .sidebar.open{left:0}
  .mobile-toggle{display:inline-flex}
  .bottom-section{left:50%;width:calc(100% - 20px);max-width:none;transform:translateX(-50%)}
  .bottom-section.initial-position{bottom:28vh}
  .bottom-section.after-message{bottom:72px}
  .chat-area{padding-bottom:180px !important}
}

/* Scrollbars */
.chat-area::-webkit-scrollbar,.sidebar::-webkit-scrollbar{width:6px}
.chat-area::-webkit-scrollbar-thumb,.sidebar::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
