/* ========= Reset / bazė ========= */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",system-ui,sans-serif;line-height:1.6;overflow:hidden}
img,svg{max-width:100%;height:auto}

/* ========= Kintamieji ========= */
:root{
  --bg-primary:#fefefe;
  --bg-secondary:#fbfbfb;
  --bg-tertiary:#f6f6f7;
  --text-primary:#1a1a1a;
  --text-secondary:#5b5b5b;
  --text-muted:#8a8a8a;
  --border:#e6e6ea;
  --border-light:#f0f0f3;
  --accent:#6d7cff;            /* pastelinis */
  --accent-ghost:#eef0ff;
  --radius:12px; --radius-sm:8px; --radius-lg:16px;
  --shadow:0 1px 2px rgba(0,0,0,.04);
  --shadow-lg:0 8px 24px rgba(0,0,0,.08);
}
[data-theme="dark"]{
  --bg-primary:#0f0f12; --bg-secondary:#15161a; --bg-tertiary:#1d1f25;
  --text-primary:#f2f2f2; --text-secondary:#bdbec2; --text-muted:#8e9096;
  --border:#2a2c32; --border-light:#22242a;
  --accent:#8a96ff; --accent-ghost:#1a1c2e;
}

/* ========= Topbar ========= */
.topbar{
  position:sticky; top:0; z-index:200;
  display:grid; grid-template-columns:auto 1fr auto; gap:12px;
  align-items:center; height:72px; padding:10px 16px;
  background:color-mix(in srgb, var(--bg-primary) 92%, #fff 8%);
  border-bottom:1px solid var(--border);
  backdrop-filter:blur(8px)
}
.brand-icon{ width:3.5cm; height:auto; display:block }

/* Modeliai viršuje */
.models-in-topbar{
  display:flex; gap:8px; overflow-x:auto; padding:4px 0; scrollbar-width:thin
}
.models-in-topbar::-webkit-scrollbar{height:6px}
.models-in-topbar::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

.model-pill{
  border:1px solid var(--border);
  background:var(--bg-secondary);
  color:var(--text-primary);
  padding:8px 12px; border-radius:999px; font-size:13px; font-weight:600;
  display:inline-flex; align-items:center; gap:8px; cursor:pointer;
  transition:.15s ease; white-space:nowrap;
}
.model-pill:hover{ border-color:var(--accent); background:var(--accent-ghost); color:var(--accent) }
.model-pill.active{ background:var(--accent-ghost); border-color:var(--accent); color:var(--accent) }

/* Buttons / profile */
.btn{
  border:1px solid var(--border); background:transparent; color:var(--text-primary);
  padding:8px 12px; border-radius:10px; display:inline-flex; gap:8px; align-items:center;
  cursor:pointer; font-weight:600; transition:.15s ease; text-decoration:none
}
.btn:hover{ background:var(--bg-secondary) }
.user-profile{ position:relative; display:flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--border); border-radius:10px; background:var(--bg-secondary); cursor:pointer }
.user-avatar{ width:24px; height:24px; border-radius:50%; background:var(--accent); color:#fff; display:grid; place-items:center; font-size:12px; font-weight:700 }
.user-name{ font-size:14px; max-width:120px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap }

.profile-dropdown{
  position:absolute; top:calc(100% + 8px); right:0; min-width:260px;
  background:var(--bg-primary); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow-lg);
  opacity:0; visibility:hidden; transform:translateY(-6px); transition:.2s ease; padding:8px
}
.profile-dropdown.active{ opacity:1; visibility:visible; transform:translateY(0) }
.dropdown-item{ display:flex; align-items:center; gap:10px; padding:10px; border-radius:8px; color:var(--text-primary) }
.dropdown-item:hover{ background:var(--bg-secondary) }
.dropdown-divider{ height:1px; background:var(--border); margin:8px 0 }
.select{ border:1px solid var(--border); background:transparent; border-radius:8px; padding:6px 10px; color:var(--text-primary); font-size:13px }

/* ========= Layout ========= */
.layout{ display:grid; grid-template-columns:300px 1fr; height:calc(100vh - 72px); overflow:hidden }
.sidebar{ border-right:1px solid var(--border); background:var(--bg-primary); overflow:auto }
.main{ position:relative; background:var(--bg-primary); overflow:hidden; display:flex; flex-direction:column }
.chat-area{ flex:1; overflow:auto; padding:24px 24px 180px }

/* Sidebar */
.side-section{ padding:14px 16px; border-bottom:1px solid var(--border-light) }
.side-title{ font-size:11px; letter-spacing:.5px; text-transform:uppercase; color:var(--text-muted); font-weight:800; margin-bottom:10px }
.specialist-grid{ display:grid; grid-template-columns:1fr 1fr; gap:8px }
.chip{
  border:1px solid var(--border); background:var(--bg-secondary); color:var(--text-primary);
  padding:8px 10px; border-radius:10px; font-size:13px; display:flex; align-items:center; gap:6px; cursor:pointer;
}
.chip:hover{ border-color:var(--accent); color:var(--accent); background:var(--accent-ghost) }

.project-item{ display:flex; gap:8px; align-items:center; padding:8px 10px; border:1px dashed var(--border); border-radius:10px; cursor:pointer }
.project-item:hover{ border-color:var(--accent); color:var(--accent) }

/* ========= Welcome ========= */
.welcome{ min-height:46vh; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:10px }
.welcome-title{ font-size:28px; font-weight:900; color:var(--text-primary); display:flex; align-items:center; gap:12px }
.logo-inline{ height:26px; width:auto }
.welcome p{ color:var(--text-secondary) }
.welcome-actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center }
.welcome-btn{
  border:1px solid var(--border); background:var(--bg-secondary); color:var(--text-primary);
  padding:10px 14px; border-radius:12px; font-weight:600; display:flex; align-items:center; gap:8px; cursor:pointer
}
.welcome-btn:hover{ background:var(--accent-ghost); border-color:var(--accent); color:var(--accent) }

/* ========= Biblioteka (rotatoriai) ========= */
.lib-block{ margin-bottom:12px }
.lib-heading{ font-size:12px; font-weight:800; color:var(--text-secondary); display:flex; align-items:center; gap:6px; margin-bottom:6px }
.thumb-rotator{ display:flex; gap:8px }
.thumb{
  width:84px; aspect-ratio:1/1; border:1px solid var(--border); border-radius:12px; overflow:hidden;
  position:relative; background:var(--bg-tertiary); display:none;
}
.thumb.is-active{ display:block }
.thumb img{ width:100%; height:100%; object-fit:cover; display:block }
.thumb figcaption{
  position:absolute; left:6px; right:6px; bottom:6px; background:rgba(0,0,0,.55); color:#fff;
  font-size:11px; line-height:1.1; padding:4px 6px; border-radius:6px; text-align:center
}

/* ========= Bottom input / Tools ========= */
.bottom-section{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:12px; width:calc(100% - 640px); max-width:880px;
  background:rgba(255,255,255,.9); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow-lg); backdrop-filter:blur(10px); z-index:180
}
[data-theme="dark"] .bottom-section{ background:rgba(20,20,24,.9) }
.input-bar{ padding:18px 20px; border-bottom:1px solid var(--border-light) }
.input-container{
  display:flex; align-items:center; gap:14px; border:1px solid var(--border); background:var(--bg-secondary); border-radius:16px; padding:12px 14px
}
.message-input{ flex:1; border:none; background:transparent; outline:none; color:var(--text-primary); font-size:15px; line-height:1.5; max-height:120px }
.send-btn{ width:40px; height:40px; border-radius:50%; border:none; background:var(--accent); color:#fff; display:grid; place-items:center; cursor:pointer }
.send-btn:hover{ filter:brightness(1.05) }

.tools-bar{ display:flex; gap:8px; align-items:center; padding:10px 12px; overflow-x:auto; justify-content:center }
.tool{
  border:1px solid var(--border); background:var(--bg-primary); color:var(--text-secondary);
  padding:6px 10px; border-radius:10px; font-size:12px; display:inline-flex; align-items:center; gap:6px; white-space:nowrap; cursor:pointer
}
.tool img{ width:16px; height:16px; display:block }
.tool:hover{ border-color:var(--accent); color:var(--accent); background:var(--accent-ghost) }

/* ========= Scrollbars ========= */
.sidebar::-webkit-scrollbar, .chat-area::-webkit-scrollbar{ width:6px }
.sidebar::-webkit-scrollbar-thumb, .chat-area::-webkit-scrollbar-thumb{ background:var(--border); border-radius:3px }

/* ========= Mobile ========= */
@media (max-width:1024px){
  .layout{ grid-template-columns:0 1fr }
  .sidebar{ position:fixed; top:72px; left:-320px; width:300px; height:calc(100vh - 72px); z-index:190; transition:left .25s ease; box-shadow:2px 0 14px rgba(0,0,0,.08) }
  .sidebar.open{ left:0 }
  .bottom-section{ width:calc(100% - 20px); max-width:none }
  .chat-area{ padding-bottom:200px }
}

