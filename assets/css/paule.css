*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg-primary:#fefefe;--bg-secondary:#fbfbfb;--bg-tertiary:#f6f7f8;--bg-accent:#f2f3f5;
  --text-primary:#1f1f1f;--text-secondary:#50565f;--text-muted:#8b93a1;
  --border:#e6e8ee;--border-light:#eef0f4;
  --accent:#6b7280;--accent-light:#f8fafc;
  --primary:#5b7cff;--primary-weak:#e8ecff;
  --radius:10px;--radius-lg:14px;--shadow:0 4px 16px rgba(0,0,0,.08)
}
[data-theme="dark"]{
  --bg-primary:#0f1114;--bg-secondary:#161a1f;--bg-tertiary:#1c2128;--bg-accent:#212731;
  --text-primary:#eaeef5;--text-secondary:#c1c8d4;--text-muted:#98a1b2;
  --border:#2b323c;--border-light:#252b35;
  --accent:#98a2b3;--accent-light:#1b2028;
  --primary:#7aa2ff;--primary-weak:#162039
}
html,body{height:100%;min-height:100vh;background:var(--bg-primary);color:var(--text-primary);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial;line-height:1.55;overflow:hidden}

/* Topbar */
.topbar{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;height:56px;padding:10px 16px;border-bottom:1px solid var(--border);backdrop-filter:blur(10px);background:color-mix(in oklab,var(--bg-primary) 96%, transparent)}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.brand-icon{width:26px;height:26px;border-radius:6px}
.top-actions{display:flex;gap:8px;align-items:center}
.btn,.btn-icon{border:1px solid var(--border);background:transparent;color:var(--text-primary);border-radius:10px;cursor:pointer;transition:.18s ease}
.btn{padding:8px 12px;font-weight:700;font-size:13px;display:inline-flex;gap:8px;align-items:center}
.btn:hover{background:var(--bg-secondary)}
.btn img{width:16px;height:16px}
.btn-icon{width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center}
.btn-new-chat{background:var(--accent);color:#fff;border-color:var(--accent)}
.btn-new-chat:hover{filter:brightness(.95)}
.btn-login{background:var(--primary);border-color:var(--primary);color:#fff}
.user-profile{position:relative;display:flex;gap:8px;align-items:center;padding:6px 12px;border-radius:10px;background:var(--bg-secondary);border:1px solid var(--border);cursor:pointer}
.user-avatar{width:24px;height:24px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:800}
.user-name{font-size:14px;font-weight:600;max-width:120px;overflow:hidden;text-overflow:ellipsis}
.profile-dropdown{position:absolute;top:100%;right:0;margin-top:8px;background:var(--bg-primary);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);min-width:200px;padding:8px;opacity:0;visibility:hidden;transform:translateY(-8px);transition:.18s}
.profile-dropdown.active{opacity:1;visibility:visible;transform:translateY(0)}
.dropdown-item{display:flex;gap:10px;align-items:center;padding:10px;border-radius:10px;cursor:pointer}
.dropdown-item:hover{background:var(--bg-secondary)}
.dropdown-divider{height:1px;background:var(--border);margin:6px 0}

/* Login modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:120}
.modal-overlay.active{display:flex}
.login-modal{width:min(420px,94vw);background:var(--bg-primary);border:1px solid var(--border);border-radius:16px;padding:24px;box-shadow:var(--shadow)}
.modal-close{position:absolute;right:12px;top:12px;border:none;background:transparent;color:var(--text-muted);font-size:22px;cursor:pointer}
.modal-title{font-size:22px;font-weight:800;margin-bottom:6px}
.modal-subtitle{color:var(--text-secondary);font-size:14px}
.login-form{display:flex;flex-direction:column;gap:14px;margin-top:14px}
.form-input{padding:12px 14px;border:1px solid var(--border);border-radius:10px;background:var(--bg-secondary);color:var(--text-primary)}
.login-btn{background:var(--primary);border:none;color:#fff;padding:12px;border-radius:10px;font-weight:800;cursor:pointer}
.google-btn{display:flex;gap:10px;align-items:center;justify-content:center;border:1px solid var(--border);padding:12px;border-radius:10px;background:#fff;color:#111}
.divider{text-align:center;color:var(--text-muted);font-size:12px;margin:6px 0;position:relative}
.divider::before{content:"";position:absolute;left:0;right:0;top:50%;height:1px;background:var(--border)}
.divider span{background:var(--bg-primary);padding:0 10px}

/* Model bar (centruota) */
.model-bar{position:sticky;top:56px;z-index:90;border-bottom:1px solid var(--border);background:color-mix(in oklab,var(--bg-primary) 96%, transparent)}
.model-list{display:flex;gap:8px;align-items:center;justify-content:center;padding:10px 10px;flex-wrap:wrap}
.model-pill{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--border);background:transparent;border-radius:999px;padding:8px 12px;font-size:13px;font-weight:700;color:var(--text-primary);cursor:pointer}
.model-pill img{width:16px;height:16px}
.model-pill:hover{background:var(--bg-secondary)}
.model-pill.active{box-shadow:0 6px 16px rgba(0,0,0,.06)}
.model-pill[data-model="gpt-4o-mini"].active{background:rgba(16,163,127,.08);border-color:rgba(16,163,127,.3);color:#10a37f}
.model-pill[data-model="claude-4-sonnet"].active{background:rgba(204,112,26,.08);border-color:rgba(204,112,26,.3);color:#b06819}
.model-pill[data-model="gemini-2.5-flash"].active{background:rgba(66,133,244,.08);border-color:rgba(66,133,244,.3);color:#2b6dff}
.model-pill[data-model="grok-4"].active{background:rgba(0,0,0,.08);border-color:rgba(0,0,0,.25);color:#111}
.model-pill[data-model="deepseek-chat"].active{background:rgba(139,69,19,.08);border-color:rgba(139,69,19,.3);color:#8b4513}
.model-pill[data-model="meta-llama/Llama-4-Scout-17B-16E-Instruct"].active{background:rgba(147,51,234,.08);border-color:rgba(147,51,234,.3);color:#7c3aed}
.model-pill[data-model="augam-auto"].active{background:rgba(107,114,128,.08);border-color:rgba(107,114,128,.3);color:#4b5563}

/* Layout */
.layout{display:grid;grid-template-columns:300px 1fr;height:calc(100vh - 56px - 46px);overflow:hidden}
.sidebar{border-right:1px solid var(--border);overflow:auto;background:var(--bg-primary)}
.main{display:flex;flex-direction:column;overflow:hidden;background:var(--bg-primary)}

.side-section{padding:14px 16px;border-bottom:1px solid var(--border-light)}
.side-title{font-size:11px;letter-spacing:.6px;text-transform:uppercase;color:var(--text-muted);font-weight:800;margin-bottom:10px}
.control-row{display:flex;gap:8px;align-items:center}
.control-group{display:flex;flex-direction:column;gap:8px}
.select{border:1px solid var(--border);background:transparent;border-radius:10px;padding:8px 12px;color:var(--text-primary);font-size:13px}
.chip{background:transparent;padding:8px 12px;border-radius:10px;font-size:13px;cursor:pointer;color:var(--text-secondary);display:inline-flex;gap:6px;align-items:center;border:1px solid transparent}
.chip:hover{background:var(--bg-secondary);border-color:var(--accent)}
.specialist-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.project-item{display:flex;gap:8px;align-items:center;padding:8px 10px;border-radius:10px;border:1px solid transparent;color:var(--text-secondary);font-size:13px}
.project-item:hover{background:var(--bg-secondary);border-color:var(--accent)}

/* Chat */
.chat-area{flex:1;overflow:auto;padding:22px 22px 140px;display:flex;flex-direction:column;gap:14px}
.welcome{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:46vh;text-align:center}
.welcome h1{font-size:30px;line-height:1.25;background:linear-gradient(135deg,var(--text-primary),var(--primary));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:10px}
.welcome p{color:var(--text-secondary);max-width:640px}
.message{display:flex;gap:12px;align-items:flex-start}
.message.user{flex-direction:row-reverse}
.avatar{width:32px;height:32px;border-radius:10px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border);background:var(--bg-secondary)}
.avatar img{width:18px;height:18px}
.bubble{flex:1;max-width:78%}
.bubble-card{background:var(--bg-secondary);border-left:3px solid transparent;border-radius:14px;padding:14px}
.bubble.user .bubble-card{background:var(--bg-accent)}
.msg-content{white-space:pre-wrap;word-wrap:break-word;line-height:1.6;color:inherit;font-size:14px}
.msg-meta{display:flex;gap:8px;color:var(--text-muted);font-size:12px;margin-top:6px}
.bubble[data-model="gpt-4o-mini"] .bubble-card{border-left-color:rgba(16,163,127,.35)}
.bubble[data-model="claude-4-sonnet"] .bubble-card{border-left-color:rgba(204,112,26,.35)}
.bubble[data-model="gemini-2.5-flash"] .bubble-card{border-left-color:rgba(66,133,244,.35)}
.bubble[data-model="grok-4"] .bubble-card{border-left-color:rgba(0,0,0,.45)}
.bubble[data-model="deepseek-chat"] .bubble-card{border-left-color:rgba(139,69,19,.45)}
.bubble[data-model="meta-llama/Llama-4-Scout-17B-16E-Instruct"] .bubble-card{border-left-color:rgba(147,51,234,.45)}

/* Bottom input */
.bottom-section{position:fixed;left:50%;transform:translateX(-50%);bottom:10px;width:min(900px,calc(100% - 640px));background:var(--bg-primary);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);z-index:60}
.input-bar{padding:14px 16px;border-bottom:1px solid var(--border-light)}
.input-container{display:flex;gap:14px;align-items:flex-end;border:1px solid var(--border);background:var(--bg-secondary);border-radius:18px;padding:14px}
.message-input{flex:1;border:none;background:transparent;color:var(--text-primary);resize:none;max-height:120px;outline:none;font-size:15px}
.send-btn{width:40px;height:40px;border-radius:50%;border:none;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}
.send-btn img{width:22px;height:22px}
.tools-bar{display:flex;gap:8px;align-items:center;padding:10px 12px;justify-content:center;overflow-x:auto}
.tool{display:inline-flex;gap:6px;align-items:center;border:1px solid var(--border);background:var(--bg-primary);border-radius:10px;padding:6px 10px;font-size:12px;color:var(--text-secondary)}
.tool img{width:14px;height:14px}

/* Specialist overlay */
.specialist-overlay{position:fixed;inset:0;background:linear-gradient(135deg,rgba(15,23,42,.95),rgba(30,41,59,.9),rgba(15,23,42,.95));backdrop-filter:blur(8px);display:none;flex-direction:column;z-index:100}
.specialist-overlay.active{display:flex}
.specialist-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid rgba(255,255,255,.15)}
.specialist-brand{display:flex;gap:10px;align-items:center;color:#fff;font-weight:800}
.specialist-brand img{width:24px;height:24px}
.specialist-close{width:40px;height:40px;border:none;background:rgba(255,255,255,.12);color:#fff;border-radius:50%;cursor:pointer}
.specialist-main{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px 16px;text-align:center}
.specialist-avatar-large{width:140px;height:140px;border-radius:50%;border:4px solid rgba(59,130,246,.4);box-shadow:0 0 40px rgba(59,130,246,.35);margin-bottom:18px;overflow:hidden}
.specialist-avatar-large img{width:100%;height:100%;object-fit:cover}

/* Mobile */
@media (max-width:1024px){
  .layout{grid-template-columns:0 1fr}
  .sidebar{position:fixed;left:-310px;top:102px;width:300px;height:calc(100vh - 102px);z-index:95;transition:left .2s ease;background:var(--bg-primary)}
  .sidebar.open{left:0}
  .bottom-section{width:calc(100% - 20px)}
}

