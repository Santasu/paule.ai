<!doctype html>
<html lang="lt" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paule</title>

  <!-- S K I R T A S  F A I L A S -->
  <link rel="stylesheet" href="/css/app.css" />

  <!-- tavo JS – nekeičiu. Naudoja esamus ID/klases -->
  <script defer src="/js/app.js"></script>
</head>
<body>

  <!-- TOP BAR -->
  <header class="topbar">
    <button class="mobile-toggle" id="mobileToggle" aria-label="Meniu">☰</button>

    <!-- LOGOTIPAS: tik ikona, be „Paule“ teksto šalia -->
    <a href="/" class="brand" aria-label="Paule">
      <img class="brand-icon brand-icon--xl" src="/assets/brand/paule-logo.svg" alt="Paule" />
    </a>

    <!-- Modelių juosta (viršuje – trumpa) -->
    <nav class="model-strip" aria-label="Modeliai">
      <button class="model-tab active" data-model="paule">Paule</button>
      <button class="model-tab" data-model="chatgpt">ChatGPT</button>
      <button class="model-tab" data-model="claude">Claude</button>
      <button class="model-tab" data-model="gemini">Gemini</button>
      <button class="model-tab" data-model="grok">Grok</button>
      <button class="model-tab" data-model="deepseek">DeepSeek</button>
      <button class="model-tab" data-model="llama">Llama</button>
    </nav>

    <div class="top-actions">
      <a href="/new" class="btn btn-new-chat" id="newChatBtn">
        <img src="/assets/icon/star.svg" alt="" /> Naujas pokalbis
      </a>

      <!-- Prisijungimo mygtukas (rodomas kai useris nėra prisijungęs) -->
      <button class="btn btn-login" id="openLogin">Prisijungti</button>

      <!-- User meniu (slepiamas kol neprisijungta) -->
      <div class="user-profile hidden" id="userProfile">
        <div class="user-avatar" id="userAvatar">P</div>
        <div class="user-name" id="userName">Vartotojas</div>
        <div class="profile-dropdown" id="profileDropdown" role="menu">
          <div class="dropdown-item" id="goProfile">Profilis</div>
          <div class="dropdown-item" id="goSettings">Nustatymai</div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-item" id="logoutBtn">Atsijungti</div>
        </div>
      </div>
    </div>
  </header>

  <!-- TAB'ai: Chat | Community -->
  <div class="view-tabs" role="tablist" aria-label="Perjungti vaizdą">
    <button class="view-tab is-active" data-view="chat" role="tab" aria-selected="true">Chat</button>
    <button class="view-tab" data-view="community" role="tab" aria-selected="false">Community</button>
  </div>

  <!-- MODEL BAR (apatinė, su „pill“ mygtukais) -->
  <div class="model-bar" id="modelBar">
    <div class="model-list">
      <button class="model-pill active" data-model="augam-auto">Auto</button>
      <button class="model-pill" data-model="gpt-4o-mini">ChatGPT</button>
      <button class="model-pill" data-model="claude-4-sonnet">Claude</button>
      <button class="model-pill" data-model="gemini-2.5-flash">Gemini</button>
      <button class="model-pill" data-model="grok-4">Grok</button>
      <button class="model-pill" data-model="deepseek-chat">DeepSeek</button>
      <button class="model-pill" data-model="meta-llama/Llama-4-Scout-17B-16E-Instruct">Llama</button>
    </div>
  </div>

  <!-- PAGRINDINIS MAKOETAS -->
  <div class="layout">
    <!-- KAIRĖ ŠONINĖ JUOSTA -->
    <aside class="sidebar" id="sidebar">
      <section class="side-section">
        <div class="side-title">Tema & Kalba</div>
        <div class="control-group">
          <div class="control-row">
            <img src="/assets/icon/moon.svg" alt="" width="16" height="16" />
            <select class="select" id="themeSelect" aria-label="Tema">
              <option value="light">Tema: Šviesi</option>
              <option value="dark">Tema: Tamsi</option>
            </select>
          </div>
          <div class="control-row">
            <img src="/assets/icon/globe.svg" alt="" width="16" height="16" />
            <select class="select" id="langSelect" aria-label="Kalba">
              <option value="lt">Lietuvių</option>
              <option value="en">English</option>
            </select>
          </div>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">Galerija</div>
        <div class="specialist-grid">
          <button class="chip" data-tool="img">📷 Vaizdas</button>
          <button class="chip" data-tool="file">📄 Failas</button>
          <button class="chip" data-tool="audio">🎙️ Garso</button>
          <button class="chip" data-tool="video">🎞️ Video</button>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">Statistika</div>
        <div class="stats-grid">
          <button class="stat-chip"><span>Šiandien</span><span class="stat-count" id="statToday">0</span></button>
          <button class="stat-chip"><span>Viso</span><span class="stat-count" id="statTotal">0</span></button>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">Projektai</div>
        <div class="project-item active">Bendras</div>
        <div class="project-item">Paleidimas</div>
      </section>
    </aside>

    <!-- DEŠINĖ – MAIN -->
    <main class="main">
      <!-- CHAT SRITIS -->
      <section class="chat-area" id="chatArea" aria-live="polite">
        <div class="welcome" id="welcome">
          <h1>Sveiki atvykę į Paule</h1>
          <p>Pradėkite naują pokalbį arba pasirinkite modelį viršuje.</p>
          <div class="welcome-actions">
            <button class="welcome-btn" id="quickStart1">📄 Santrauka</button>
            <button class="welcome-btn" id="quickStart2">🧪 Užklausa</button>
            <button class="welcome-btn" id="quickStart3">📊 Idėjos</button>
          </div>
        </div>
        <!-- Žinutės bus pridėtos čia per JS -->
        <div id="messages"></div>
      </section>

      <!-- COMMUNITY JUOSTA (po chat) -->
      <section class="community-bar" id="communityBar" hidden>
        <div class="prize-banner">
          <span>€1000 prizas už geriausią istoriją</span>
          <button class="cta" id="joinContest">Dalyvauti</button>
        </div>
        <div class="stories" id="storiesRow">
          <button class="story">#UX</button>
          <button class="story">#Marketing</button>
          <button class="story">#AI</button>
          <button class="story">#Dev</button>
        </div>
      </section>

      <!-- COMMUNITY FEED -->
      <section class="community-feed" id="communityFeed" hidden>
        <div class="feed-filters">
          <button class="filter-pill is-active" data-filter="all">Visi</button>
          <button class="filter-pill" data-filter="images">Vaizdai</button>
          <button class="filter-pill" data-filter="audio">Audio</button>
          <button class="filter-pill" data-filter="notes">Užrašai</button>
        </div>
        <div class="feed-grid" id="feedGrid"></div>
      </section>

      <!-- DEŠINĖ ŠONINĖ (nebūtina) -->
      <aside class="rightbar" id="rightbar" hidden>
        <div class="board">
          <h4>Lyderių lentelė</h4>
          <ol>
            <li><strong>@milda</strong> <span>128</span></li>
            <li><strong>@jonas</strong> <span>94</span></li>
            <li><strong>@ieva</strong>  <span>76</span></li>
          </ol>
        </div>
        <div class="notif">
          <h4>Pranešimai</h4>
          <p>Naujų pranešimų nėra.</p>
        </div>
      </aside>
    </main>
  </div>

  <!-- APAČIOS ĮVESTIS -->
  <section class="bottom-section initial-position" id="composer">
    <div class="input-bar">
      <div class="input-container" id="inputContainer">
        <textarea class="message-input" id="messageInput" rows="1" placeholder="Žinutė specialistui…" aria-label="Žinutė"></textarea>
        <button class="send-btn" id="sendBtn" aria-label="Siųsti">
          <img src="/assets/icon/send.svg" alt="" />
        </button>
      </div>
    </div>

    <div class="tools-bar" id="toolsBar">
      <button class="tool" data-tool="img-gen"><img src="/assets/icon/image.svg" alt="" /> Mi</button>
      <button class="tool" data-tool="file-upload"><img src="/assets/icon/folder.svg" alt="" /> Fo</button>
      <button class="tool" data-tool="lab"><img src="/assets/icon/lab.svg" alt="" /> Ty</button>
      <button class="tool" data-tool="thinking"><img src="/assets/icon/think.svg" alt="" /> Mąstyti</button>
      <button class="tool" data-tool="audio"><img src="/assets/icon/music.svg" alt="" /> Daina</button>
    </div>
  </section>

  <!-- LOGIN MODAL (S L Ė P T A S  I Š  A N K S T O) -->
  <div class="modal-overlay" id="loginOverlay" aria-hidden="true">
    <div class="login-modal" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <button class="modal-close" id="loginClose" aria-label="Uždaryti">×</button>

      <div class="modal-header">
        <h2 class="modal-title" id="loginTitle">Prisijungti prie Paule</h2>
        <p class="modal-subtitle">Prieiga prie AI įrankių</p>
      </div>

      <div class="login-form">
        <button class="google-btn" id="googleLoginBtn">
          <img src="/assets/icon/google.svg" alt="" width="18" height="18" />
          Prisijungti su Google
        </button>

        <div class="divider"><span>arba</span></div>

        <form id="loginForm" autocomplete="on">
          <div class="form-group">
            <label class="form-label" for="email">El. paštas</label>
            <input class="form-input" type="email" id="email" name="email" autocomplete="email" required />
          </div>
          <div class="form-group">
            <label class="form-label" for="password">Slaptažodis</label>
            <input class="form-input" type="password" id="password" name="password" autocomplete="current-password" required />
          </div>
          <button class="login-btn" id="loginBtn" type="submit">Prisijungti</button>
        </form>
      </div>
    </div>
  </div>

  <!-- BENDRAS PILNO EKRANO MODALAS (naudoja .open klasę) -->
  <div class="modal-overlay" id="genericModal" aria-hidden="true">
    <div class="modal" data-model="paule" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-head">
        <div id="modal-title">Dialogo pavadinimas</div>
        <a href="#" class="share-link" target="_blank" rel="noopener">Dalintis</a>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <button class="modal-close" id="modalClose" aria-label="Uždaryti">×</button>
    </div>
  </div>

  <!-- SPECIALIST OVERLAY (paruošta, bet išjungta) -->
  <section class="specialist-overlay" id="specialistOverlay" aria-hidden="true">
    <header class="specialist-header">
      <div class="specialist-brand">
        <img src="/assets/brand/paule-logo.svg" alt="" width="20" height="20" /> Paule
      </div>
      <button class="specialist-close" id="specialistClose" aria-label="Uždaryti">✕</button>
    </header>
    <div class="specialist-main">
      <div class="specialist-avatar-large">
        <img src="/assets/avatars/paule.svg" alt="Paule" />
      </div>
      <h2 class="specialist-title">Paule specialistas</h2>
      <p class="specialist-subtitle">Pagalba ir trumpi šablonai</p>
      <div class="specialist-options" id="specialistOptions"></div>
    </div>
  </section>

  <!-- ERROR TOAST -->
  <div class="error-notification hidden" id="errorToast" role="status" aria-live="polite"></div>
</body>
</html>
