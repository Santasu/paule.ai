<!DOCTYPE html>
<html lang="lt" data-theme="light" data-backend="vercel">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Paule â€“ Premium AI Chat</title>
  <link rel="stylesheet" href="/assets/css/paule.css"/>

  <!-- Konfigas -->
  <script>
    (function () {
      var MODE=(document.documentElement.getAttribute('data-backend')||'').trim().toLowerCase()==='vercel'?'vercel':'wp';
      var restBase=MODE==='vercel'?'/api':'/wp-json/paule/v1';
      var routes={base:restBase,stream:restBase+'/stream',models:restBase+'/models',diagnostics:restBase+'/diagnostics'};
      var CFG={mode:MODE,restBase:routes.base,restStream:routes.stream,restStreamSSE:routes.stream,sseDefault:1,
        pluginBase:'/assets',iconsBase:'/assets/icon',featuresBase:'/assets/features',routes:routes,version:'paule-1.0.4'};
      window.PAULE_CONFIG=CFG; window.AUGAM_CONFIG=CFG;
      try{Object.defineProperty(window,'API_BASE',{configurable:true,get:function(){return CFG.restBase;},set:function(_){}});}catch(e){}
      window.__SET_API_BASE__=function(v){};
    })();
  </script>

  <!-- Bridge WP->/api -->
  <script>
    (function(){
      try{
        var restBase=(window.PAULE_CONFIG&&PAULE_CONFIG.restBase)||'/api';
        if(window.EventSource){
          var OES=window.EventSource;
          window.EventSource=function(url,opts){
            try{url=String(url).replace(/\/wp-json\/(?:augam|paule)\/v1(\/|$)/,'/api$1').replace(/\/(?:augam|paule)\/v1(\/|$)/,'/api$1');}catch(_){}
            return new OES(url,opts);
          };
          window.EventSource.prototype=OES.prototype;
        }
        if(window.fetch){
          var of=window.fetch;
          window.fetch=function(input,init){
            try{
              var u=(typeof input==='string')?input:(input&&input.url);
              if(u){
                var nu=String(u).replace(/\/wp-json\/(?:augam|paule)\/v1(\/|$)/,'/api$1').replace(/\/(?:augam|paule)\/v1(\/|$)/,'/api$1');
                if(nu!==u) input=(typeof input==='string')?nu:new Request(nu,input);
              }
            }catch(_){}
            return of(input,init);
          };
        }
        window.__FORCE_STREAM_ENDPOINT__=restBase.replace(/\/+$/,'')+'/stream';
      }catch(e){}
    })();
  </script>
</head>
<body>
  <!-- VirÅ¡utinÄ— juosta -->
  <header class="topbar">
    <a class="brand" href="/" aria-label="Paule">
      <img id="brandLogo" class="brand-icon" src="/assets/icon/paule-logo.webp" alt="paule">
    </a>

    <!-- Modeliai -->
    <nav class="models-in-topbar" aria-label="Modeliai" id="modelList">
      <button class="model-pill active" data-model="auto" aria-pressed="true"><img class="ui-icon" src="/assets/icon/paule-icon.webp" alt="">Paule</button>
      <button class="model-pill" data-model="chatgpt"><img class="ui-icon" src="/assets/icon/chatgpt.svg" alt="">ChatGPT</button>
      <button class="model-pill" data-model="claude"><img class="ui-icon" src="/assets/icon/claude-seeklogo.svg" alt="">Claude</button>
      <button class="model-pill" data-model="gemini"><img class="ui-icon" src="/assets/icon/gemini.svg" alt="">Gemini</button>
      <button class="model-pill" data-model="grok"><img class="ui-icon" src="/assets/icon/xAI.svg" alt="">Grok</button>
      <button class="model-pill" data-model="deepseek"><img class="ui-icon" src="/assets/icon/deepseek.svg" alt="">DeepSeek</button>
      <button class="model-pill" data-model="llama"><img class="ui-icon" src="/assets/icon/llama.svg" alt="">Llama</button>
    </nav>

    <!-- DeÅ¡inÄ— -->
    <div class="top-actions">
      <a class="btn ghost" href="/community"><img class="ui-icon" src="/assets/icon/nav-results.svg" alt="">BendruomenÄ—</a>
      <button class="btn ghost" id="btnNewChat"><img class="ui-icon" src="/assets/icon/nav-new-chat.svg" alt="">Naujas pokalbis</button>
      <button class="btn ghost mobile-toggle" id="btnMobile"><img class="ui-icon" src="/assets/icon/nav-menu.svg" alt="">Meniu</button>

      <!-- Tema -->
      <div class="login-anchor">
        <button class="btn ghost" id="btnTheme"><img class="ui-icon" src="/assets/icon/nav-theme.svg" alt="">Tema</button>
        <div class="login-dropdown" id="themeDropdown" role="menu" aria-label="Tema">
          <button class="btn" data-theme="light">Å viesi</button>
          <button class="btn" data-theme="dark">Tamsi</button>
        </div>
      </div>

      <!-- Prisijungimas -->
      <div class="login-anchor">
        <button class="btn ghost" id="btnLogin"><img class="ui-icon" src="/assets/icon/user.svg" alt="">Prisijungti</button>
        <div class="login-dropdown" id="loginDropdown" role="menu" aria-label="Prisijungimas">
          <a class="btn" id="googleLoginBtn" href="#"><img class="ui-icon" src="/assets/icon/google.svg" alt="">Prisijungti su Google</a>
          <a class="btn" id="emailLoginBtn" href="#"><img class="ui-icon" src="/assets/icon/mail.svg" alt="">Prisijungti el. paÅ¡tu</a>
        </div>
      </div>
    </div>
  </header>

  <!-- IÅ¡sklendÅ¾iantis mobilus meniu (stalÄius) -->
  <div id="drawerOverlay" class="drawer-overlay"></div>
  <aside id="mobileMenu" class="drawer" aria-hidden="true">
    <div class="drawer-head">
      <img class="brand-icon" src="/assets/icon/paule-logo.webp" alt="paule">
      <button class="drawer-close" id="drawerClose" aria-label="UÅ¾daryti"><img class="ui-icon" src="/assets/icon/close.svg" alt=""></button>
    </div>
    <nav class="drawer-nav">
      <a class="drawer-link" href="/community"><img class="ui-icon" src="/assets/icon/nav-results.svg" alt="">BendruomenÄ—</a>
    </nav>
    <div id="drawerContent"></div> <!-- Äia Ä¯dedamas kairÄ—s meniu turinys -->
  </aside>

  <!-- Pagrindinis maketas -->
  <div class="layout">
    <!-- KairÄ— (desktop) -->
    <aside class="sidebar" id="sidebar">
      <section class="side-section">
        <div class="side-title">AI specialistai</div>
        <div class="specialist-grid" id="specialistGrid">
          <a class="chip" href="#spec-sefas"><img class="ui-icon" src="/assets/icon/chef-knife.svg" alt="">Å efas</a>
          <a class="chip" href="#spec-marketing"><img class="ui-icon" src="/assets/icon/marketing-megaphone.svg" alt="">Marketing</a>
          <a class="chip" href="#spec-pardavimai"><img class="ui-icon" src="/assets/icon/sales-handshake.svg" alt="">Pardavimai</a>
          <a class="chip" href="#spec-verslas"><img class="ui-icon" src="/assets/icon/business-strategy.svg" alt="">Verslas</a>
          <a class="chip" href="#spec-finansai"><img class="ui-icon" src="/assets/icon/finance-investment.svg" alt="">Finansai</a>
          <a class="chip" href="#spec-keliones"><img class="ui-icon" src="/assets/icon/travel-map.svg" alt="">KelionÄ—s</a>
          <a class="chip" href="#spec-renginiai"><img class="ui-icon" src="/assets/icon/event-planning.svg" alt="">Renginiai</a>
          <a class="chip" href="/spec/goal.html"><img class="ui-icon" src="/assets/icon/tool-mindmap.svg" alt="">TikslÅ³ Å¾emÄ—lapis</a>
          <a class="chip" href="#spec-teise"><img class="ui-icon" src="/assets/icon/legal-contract.svg" alt="">Teisininkas</a>
          <a class="chip" href="#spec-psichologas"><img class="ui-icon" src="/assets/icon/psychology-brain.svg" alt="">Psichologas</a>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">Aktyvumas</div>
        <div class="community-pings">
          <div class="ping"><img class="ui-icon" src="/assets/icon/music.svg" alt="">@Mantas Ä¯kÄ—lÄ— dainÄ… â€Vasaros vÄ—jasâ€œ</div>
          <div class="ping"><img class="ui-icon" src="/assets/icon/photo.svg" alt="">@Ieva pridÄ—jo 3 nuotraukas</div>
          <div class="ping"><img class="ui-icon" src="/assets/icon/video-library.svg" alt="">@Ruta publikavo â€Reklama-15sâ€œ</div>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title"><a class="lib-link" href="/biblioteka#dainos">Dainos</a></div>
        <div class="library-grid">
          <a class="lib-card thumb"><img src="/assets/hero/music.webp" alt=""><span>â€Vasaros vÄ—jasâ€œ</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/music.webp" alt=""><span>â€Nakties Å¡viesosâ€œ</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/music.webp" alt=""><span>â€Miesto pulsasâ€œ</span></a>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title"><a class="lib-link" href="/biblioteka#nuotraukos">Nuotraukos</a></div>
        <div class="library-grid">
          <a class="lib-card thumb"><img src="/assets/hero/photo.webp" alt=""><span>Produktas</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/photo.webp" alt=""><span>Kampanija</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/photo.webp" alt=""><span>VirÅ¡elis</span></a>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title"><a class="lib-link" href="/biblioteka#video">Video</a></div>
        <div class="library-grid">
          <a class="lib-card thumb"><img src="/assets/hero/video.webp" alt=""><span>Reklama 15s</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/video.webp" alt=""><span>Pristatymas</span></a>
          <a class="lib-card thumb"><img src="/assets/hero/video.webp" alt=""><span>UÅ¾kulisiai</span></a>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">Projektai</div>
        <div class="control-group" id="projectsList">
          <div class="project-item" data-project="new"><img class="ui-icon" src="/assets/icon/plus.svg" alt="">Naujas projektas</div>
        </div>
      </section>

      <section class="side-section">
        <div class="side-title">PokalbiÅ³ istorija</div>
        <div class="control-group" id="historyList"></div>
      </section>
    </aside>

    <!-- Pagrindas -->
    <main class="main">
      <div class="chat-area" id="chatArea">
        <!-- Hero (dingsta, kai atsiranda Å¾inutÄ—s) -->
        <section class="welcome" id="welcome">
          <h1 class="hero-title">KAIP GALIU PADÄ–TI Å IANDIEN?</h1>
          <p>Pasirinkite AI specialistÄ… kairÄ—je arba pradÄ—kite pokalbÄ¯ Å¾emiau. VirÅ¡uje galite rinktis vienÄ… ar kelis modelius. ğŸ‘‡</p>

          <div class="welcome-grid">
            <a class="welcome-card" href="#" data-action="song">
              <img src="/assets/hero/music.webp" alt="">
              <b>Sukurti dainÄ…</b><span>Pasveikink draugÄ… unikalia gimtadienio daina.</span>
            </a>
            <a class="welcome-card" href="#" data-action="song-photo">
              <img src="/assets/hero/song-photo.webp" alt="">
              <b>Daina iÅ¡ nuotraukos</b><span>Ä®kelk kadrÄ… ir gauk originaliÄ… melodijÄ… su Å¾odÅ¾iais.</span>
            </a>
            <a class="welcome-card" href="#" data-action="photo">
              <img src="/assets/hero/photo.webp" alt="">
              <b>Sukurti nuotraukÄ…</b><span>Produktai, scenos, peizaÅ¾ai, selfiai ir animacija.</span>
            </a>
            <a class="welcome-card" href="#" data-action="mindmap">
              <img src="/assets/hero/mindmap.webp" alt="">
              <b>MinÄiÅ³ Å¾emÄ—lapis</b><span>Susitelk Ä¯ esmÄ™ ir didink produktyvumÄ….</span>
            </a>
            <a class="welcome-card" href="/spec/goal.html">
              <img src="/assets/hero/goals.webp" alt="">
              <b>TikslÅ³ sistema (AI)</b><span>Vizija â†’ uÅ¾duotys â†’ realÅ«s rezultatai.</span>
            </a>
            <a class="welcome-card" href="#" data-action="video">
              <img src="/assets/hero/video.webp" alt="">
              <b>Sukurti video</b><span>Reels ir Stories iÅ¡ teksto ar nuotraukÅ³.</span>
            </a>
          </div>

          <div class="community-strip">
            <div class="strip-item">Populiaru: â€Miesto pulsasâ€œ â€¢ 2.1k</div>
            <div class="strip-item">Nauja: @Ieva Ä¯kÄ—lÄ— 3 nuotraukas</div>
            <div class="strip-item">Konkursas: Geriausia daina rugsÄ—jÄ¯</div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- ApaÄios Ä¯vedimas -->
  <div class="bottom-section" id="bottomSection" data-responsive="true">
    <div class="input-bar">
      <div class="input-container">
        <textarea class="message-input" id="messageInput" rows="1" placeholder="Å½inutÄ— specialistuiâ€¦"></textarea>
        <button class="send-btn" id="sendBtn" aria-label="SiÅ³sti">
          <img class="ui-icon" src="/assets/icon/arrow-top.svg" alt="">
        </button>
      </div>
    </div>
    <div class="tools-bar">
      <div class="tool" data-tool="mindmap"><img class="ui-icon" src="/assets/icon/tool-mindmap.svg" alt="">Mindmap</div>
      <div class="tool" data-tool="photo"><img class="ui-icon" src="/assets/icon/tool-photo.svg" alt="">Foto</div>
      <div class="tool" data-tool="file"><img class="ui-icon" src="/assets/icon/tool-file.svg" alt="">Failas</div>
      <div class="tool" data-tool="song"><img class="ui-icon" src="/assets/icon/tool-music.svg" alt="">Sukurti dainÄ…</div>
      <div class="tool" data-tool="video"><img class="ui-icon" src="/assets/icon/video-plus.svg" alt="">Sukurti video</div>
      <div class="tool" data-tool="goals"><img class="ui-icon" src="/assets/icon/tool-mindmap.svg" alt="">TikslÅ³ sistema</div>
    </div>
  </div>

  <!-- Minimal JS (tema, meniu, dropdownâ€™ai, hero paspaudimai) -->
  <script>
    (function(){
      const root=document.documentElement;
      const sidebar=document.getElementById('sidebar');
      const drawer=document.getElementById('mobileMenu');
      const drawerOverlay=document.getElementById('drawerOverlay');
      const drawerClose=document.getElementById('drawerClose');
      const btnMobile=document.getElementById('btnMobile');
      const btnLogin=document.getElementById('btnLogin');
      const loginDropdown=document.getElementById('loginDropdown');
      const btnTheme=document.getElementById('btnTheme');
      const themeDropdown=document.getElementById('themeDropdown');
      const logo=document.getElementById('brandLogo');
      const msgInput=document.getElementById('messageInput');
      const sendBtn=document.getElementById('sendBtn');

      /* Tema: atstatyti iÅ¡ localStorage */
      (function initTheme(){
        const saved=localStorage.getItem('paule_theme');
        if(saved==='light'||saved==='dark'){ root.setAttribute('data-theme',saved); }
        swapLogo();
      })();

      function swapLogo(){
        const dark = root.getAttribute('data-theme')==='dark';
        logo.src = dark ? '/assets/icon/paule-logo-dark.webp' : '/assets/icon/paule-logo.webp';
      }

      /* Tema dropdown */
      btnTheme?.addEventListener('click', (e)=>{ e.preventDefault(); themeDropdown.classList.toggle('open'); loginDropdown?.classList.remove('open'); });
      themeDropdown?.addEventListener('click', (e)=>{
        const b=e.target.closest('[data-theme]'); if(!b) return;
        const v=b.getAttribute('data-theme');
        root.setAttribute('data-theme', v);
        localStorage.setItem('paule_theme', v);
        swapLogo();
        themeDropdown.classList.remove('open');
      });

      /* Prisijungimo dropdown */
      btnLogin?.addEventListener('click', (e)=>{ e.preventDefault(); loginDropdown.classList.toggle('open'); themeDropdown?.classList.remove('open'); });
      document.addEventListener('click', (e)=>{ if(!e.target.closest('.login-anchor')){ loginDropdown?.classList.remove('open'); themeDropdown?.classList.remove('open'); } });

      /* Naujas pokalbis â€“ neperjungia temos (tema iÅ¡ localStorage todÄ—l iÅ¡lieka). */
      document.getElementById('btnNewChat')?.addEventListener('click', ()=>{ /* Äia tavo â€new chatâ€œ logika */ });

      /* Mobilus stalÄius: Ä¯dedam kairÄ—s meniu turinÄ¯ */
      const drawerContent=document.getElementById('drawerContent');
      if(drawerContent) drawerContent.innerHTML = sidebar.innerHTML;

      function openDrawer(){ drawer.classList.add('open'); drawerOverlay.classList.add('show'); }
      function closeDrawer(){ drawer.classList.remove('open'); drawerOverlay.classList.remove('show'); }

      btnMobile?.addEventListener('click', openDrawer);
      drawerClose?.addEventListener('click', closeDrawer);
      drawerOverlay?.addEventListener('click', closeDrawer);

      /* Enter â†’ siÅ³sti */
      msgInput?.addEventListener('keydown', function(e){
        if (e.key==='Enter' && !e.shiftKey){
          e.preventDefault();
          if(window.sendMessage) window.sendMessage(); else sendBtn?.click();
        }
      });

      /* Hero korteliÅ³ mygtukai */
      document.querySelectorAll('.welcome-grid .welcome-card').forEach(el=>{
        el.addEventListener('click', (e)=>{
          const a=el.getAttribute('data-action');
          e.preventDefault();
          document.querySelector(`.tool[data-tool="${a==='song-photo'?'song':a}"]`)?.click();
        });
      });
    })();
  </script>

  <script src="/assets/js/paule-ui.js" defer></script>
</body>
</html>
