<!DOCTYPE html>
<html lang="lt" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Psichologo AI asistentas</title>
  
  <style>
/* =========================================================
   UNIVERSALI SPALVÅ² SISTEMA
   ========================================================= */
:root {
  --bg-primary: #0a0d14;
  --bg-secondary: #0f1419;
  --bg-elevated: #141922;
  --bg-card: #1a1f2b;
  --bg-overlay: #1e252f;
  
  --text-primary: #e8eaf0;
  --text-secondary: #b8bcc8;
  --text-muted: #8a8f9a;
  --text-hint: #6b7280;
  
  --border-soft: #1f2937;
  --border-medium: #374151;
  
  --accent-primary: #14b8a6;
  --accent-primary-hover: #0d9488;
  --accent-secondary: #06b6d4;
  --accent-ghost: #134e4a;
  
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
  --info: #3b82f6;
  
  --neu-raise: 
    0 4px 8px rgba(0, 0, 0, 0.3), 
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  
  --neu-press: 
    inset 0 2px 4px rgba(0, 0, 0, 0.4),
    inset 0 1px 2px rgba(0, 0, 0, 0.3);
  
  --neu-float: 
    0 10px 25px rgba(0, 0, 0, 0.5), 
    0 4px 8px rgba(0, 0, 0, 0.3);
  
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  
  --space-sm: 8px;
  --space-md: 12px;
  --space-lg: 16px;
  --space-xl: 20px;
  --space-2xl: 24px;
  --space-3xl: 32px;
  --space-4xl: 40px;
  
  --transition-fast: 0.15s;
  --transition-normal: 0.25s;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, system-ui, sans-serif;
  line-height: 1.6;
  overflow-x: hidden;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--space-xl);
}

/* =========================================================
   HERO SECTION
   ========================================================= */
.hero-section {
  text-align: center;
  margin-bottom: var(--space-4xl);
  padding: var(--space-4xl) 0;
  position: relative;
  background: linear-gradient(135deg, rgba(20, 184, 166, 0.1), rgba(6, 182, 212, 0.1));
  border-radius: var(--radius-2xl);
}

.hero-title {
  font-size: clamp(32px, 5vw, 48px);
  font-weight: 800;
  margin-bottom: var(--space-lg);
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  line-height: 1.2;
}

.hero-subtitle {
  font-size: 18px;
  color: var(--text-secondary);
  margin-bottom: var(--space-xl);
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.hero-disclaimer {
  background: var(--bg-elevated);
  padding: var(--space-lg);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--accent-primary);
  margin: var(--space-xl) auto;
  max-width: 800px;
}

.disclaimer-text {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
}

.stats-banner {
  display: flex;
  justify-content: center;
  gap: var(--space-3xl);
  margin-bottom: var(--space-4xl);
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
  background: var(--bg-card);
  padding: var(--space-xl);
  border-radius: var(--radius-xl);
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
  min-width: 120px;
}

.stat-number {
  font-size: 28px;
  font-weight: 800;
  color: var(--accent-primary);
  display: block;
  line-height: 1;
}

.stat-label {
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: var(--space-sm);
}

/* =========================================================
   FEATURES GRID
   ========================================================= */
.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-3xl);
  margin-bottom: var(--space-4xl);
}

.feature-card {
  background: var(--bg-card);
  border-radius: var(--radius-2xl);
  padding: 0;
  text-align: center;
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
  transition: all var(--transition-normal) ease;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  min-height: 400px;
  display: flex;
  flex-direction: column;
}

.feature-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
  opacity: 0;
  transition: opacity var(--transition-normal);
}

.feature-card:hover::before {
  opacity: 1;
}

.feature-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--neu-float);
}

.feature-header {
  position: relative;
  height: 200px;
  background-size: cover;
  background-position: center;
  display: flex;
  align-items: center;
  justify-content: center;
}

.feature-header::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,.3), rgba(0,0,0,.7));
}

.feature-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 800;
  color: white;
  background: rgba(20, 184, 166, 0.9);
  box-shadow: var(--neu-raise);
  position: relative;
  z-index: 2;
}

.feature-content {
  padding: var(--space-3xl);
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.feature-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: var(--space-md);
  color: var(--text-primary);
}

.feature-desc {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-xl);
}

.feature-cta {
  margin-top: var(--space-xl);
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-md) var(--space-xl);
  border-radius: var(--radius-lg);
  background: var(--bg-elevated);
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 600;
  box-shadow: var(--neu-raise);
  transition: all var(--transition-normal) ease;
  border: 1px solid var(--border-soft);
  cursor: pointer;
  border: none;
  font-size: 14px;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--neu-float);
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  color: white;
  border: none;
}

.btn-secondary {
  background: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
  color: white;
  border: none;
}

.btn-lg {
  padding: var(--space-lg) var(--space-3xl);
  font-size: 16px;
  border-radius: var(--radius-xl);
}

/* =========================================================
   MODAL/POPUP SYSTEM
   ========================================================= */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(8px);
  z-index: 1000;
  display: none;
  animation: fadeIn 0.3s ease;
}

.modal-overlay.active {
  display: flex;
  align-items: center;
  justify-content: center;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal {
  background: var(--bg-primary);
  border-radius: var(--radius-2xl);
  box-shadow: var(--neu-float);
  border: 1px solid var(--border-soft);
  width: 95%;
  max-width: 900px;
  max-height: 90vh;
  overflow: hidden;
  animation: slideUp 0.3s ease;
  display: flex;
  flex-direction: column;
}

@keyframes slideUp {
  from { transform: translateY(50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.modal-header {
  background: var(--bg-elevated);
  padding: var(--space-xl);
  border-bottom: 1px solid var(--border-soft);
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
}

.modal-title {
  font-size: 24px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.modal-close {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  color: var(--text-muted);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-size: 18px;
}

.modal-close:hover {
  background: var(--error);
  color: white;
  transform: scale(1.1);
}

.modal-body {
  flex: 1;
  padding: var(--space-xl);
  overflow-y: auto;
}

/* =========================================================
   CHAT SYSTEM
   ========================================================= */
.chat-section {
  background: var(--bg-secondary);
  border-radius: var(--radius-2xl);
  margin-top: var(--space-4xl);
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
  overflow: hidden;
}

.chat-header {
  padding: var(--space-xl);
  border-bottom: 1px solid var(--border-soft);
  background: var(--bg-elevated);
  text-align: center;
}

.chat-title {
  font-size: 24px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
}

.ai-status {
  font-size: 14px;
  color: var(--success);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--success);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.chat-messages {
  padding: var(--space-xl);
  max-height: 400px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.message {
  display: flex;
  gap: var(--space-md);
  align-items: flex-start;
  animation: messageIn 0.3s ease;
  max-width: 80%;
}

@keyframes messageIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.message.user {
  flex-direction: row-reverse;
  align-self: flex-end;
}

.message-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 12px;
  flex-shrink: 0;
}

.message.ai .message-avatar {
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
  color: white;
}

.message.user .message-avatar {
  background: var(--bg-elevated);
  color: var(--text-primary);
  border: 2px solid var(--border-medium);
}

.message-content {
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  box-shadow: var(--neu-raise);
  font-size: 14px;
  line-height: 1.5;
}

.message.user .message-content {
  background: var(--accent-primary);
  color: white;
  border-color: transparent;
}

/* =========================================================
   FEATURE SPECIFIC STYLES
   ========================================================= */
.disclaimer {
  background: var(--bg-elevated);
  padding: var(--space-lg);
  border-radius: var(--radius-lg);
  border-left: 4px solid var(--warning);
  margin: var(--space-xl) 0;
}

.emergency-notice {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));
  border: 2px solid var(--error);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  margin: var(--space-xl) 0;
  text-align: center;
}

.emergency-title {
  color: var(--error);
  font-size: 18px;
  font-weight: 700;
  margin-bottom: var(--space-md);
}

.emergency-text {
  color: var(--text-primary);
  margin-bottom: var(--space-md);
}

.emergency-number {
  font-size: 24px;
  font-weight: 800;
  color: var(--error);
}

.techniques-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-lg);
  margin: var(--space-xl) 0;
}

.technique-card {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  text-align: center;
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
  cursor: pointer;
  transition: all var(--transition-normal) ease;
}

.technique-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--neu-float);
}

.emotion-cards {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-lg);
  margin: var(--space-xl) 0;
}

.emotion-card {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  text-align: center;
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
  cursor: pointer;
  transition: all var(--transition-normal) ease;
}

.emotion-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--neu-float);
}

.wellness-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-lg);
  margin: var(--space-xl) 0;
}

.metric-card {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  text-align: center;
  box-shadow: var(--neu-raise);
  border: 1px solid var(--border-soft);
}

.metric-number {
  font-size: 32px;
  font-weight: 800;
  color: var(--accent-primary);
  margin-bottom: var(--space-sm);
}

.metric-label {
  color: var(--text-secondary);
  font-size: 14px;
  margin-bottom: var(--space-sm);
}

.typing-indicator {
  display: flex;
  gap: 4px;
  align-items: center;
  color: var(--text-muted);
}

.typing-dots {
  display: flex;
  gap: 4px;
}

.typing-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent-primary);
  animation: typing 1.4s infinite ease-in-out;
}

.typing-dot:nth-child(1) { animation-delay: -0.32s; }
.typing-dot:nth-child(2) { animation-delay: -0.16s; }

@keyframes typing {
  0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
  40% { transform: scale(1); opacity: 1; }
}

.chat-input {
  padding: var(--space-xl);
  border-top: 1px solid var(--border-soft);
  background: var(--bg-elevated);
}

.input-group {
  display: flex;
  gap: var(--space-md);
  align-items: flex-end;
  max-width: 800px;
  margin: 0 auto;
}

.message-input {
  flex: 1;
  background: var(--bg-card);
  border: 1px solid var(--border-soft);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  color: var(--text-primary);
  resize: none;
  min-height: 50px;
  max-height: 120px;
  font-family: inherit;
  font-size: 14px;
}

.message-input:focus {
  outline: none;
  border-color: var(--accent-primary);
  box-shadow: 0 0 0 3px var(--accent-ghost);
}

.send-btn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--accent-primary);
  color: white;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all var(--transition-fast);
  font-size: 18px;
}

.send-btn:hover {
  background: var(--accent-primary-hover);
  transform: scale(1.1);
}

.send-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 1024px) {
  .features-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .techniques-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .emotion-cards {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .container {
    padding: var(--space-lg);
  }
  
  .features-grid {
    grid-template-columns: 1fr;
    gap: var(--space-xl);
  }
  
  .feature-card {
    min-height: 350px;
  }
  
  .stats-banner {
    flex-direction: column;
    align-items: center;
    gap: var(--space-lg);
  }
  
  .modal {
    width: 98%;
    margin: var(--space-sm);
  }
  
  .techniques-grid,
  .emotion-cards {
    grid-template-columns: 1fr;
  }
  
  .chat-messages {
    max-height: 300px;
  }
  
  .message {
    max-width: 90%;
  }
}

.hidden {
  display: none !important;
}

/* Loading animation */
.loading {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 2px solid var(--border-soft);
  border-radius: 50%;
  border-top-color: var(--accent-primary);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
  </style>
</head>
<body>
  <div class="container">
    <!-- Hero Section -->
    <div class="hero-section">
      <h1 class="hero-title">Psichologo AI asistentas</h1>
      <p class="hero-subtitle">
        EdukacinÄ— psichikos sveikatos platforma su AI palaikymu, streso valdymu ir gerovÄ—s strategijomis
      </p>
      
      <div class="hero-disclaimer">
        <div class="disclaimer-text">
          <strong>Svarbu:</strong> Tai edukacinÄ— informacija, ne profesionali psichologinÄ— pagalba. Jei jauÄiate rimtus psichikos sveikatos sunkumus, kreipkitÄ—s Ä¯ kvalifikuotÄ… specialistÄ… arba skambinkite pagalbos linijai.
        </div>
      </div>
      
      <!-- Statistics Banner -->
      <div class="stats-banner">
        <div class="stat-item">
          <span class="stat-number">74%</span>
          <span class="stat-label">MaÅ¾iau streso su AI</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">89%</span>
          <span class="stat-label">GeresnÄ— nuotaika</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">15min</span>
          <span class="stat-label">DieninÄ— mindfulness</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">24/7</span>
          <span class="stat-label">Pagalbos prieinamumas</span>
        </div>
      </div>
    </div>

    <!-- Emergency Notice -->
    <div class="emergency-notice">
      <div class="emergency-title">KriziÅ³ situacijos pagalba</div>
      <div class="emergency-text">Jei jauÄiatÄ—s nesaugiai ar turite saviÅ¾udybÄ—s minÄiÅ³, nedelsiant kreipkitÄ—s:</div>
      <div class="emergency-number">116 123 (Vilties linija)</div>
    </div>

    <!-- Main Features -->
    <div class="features-grid">
      <div class="feature-card" data-feature="stress-anxiety">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop');">
          <div class="feature-icon">ğŸ§˜</div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">Streso ir nerimo valdymas</h3>
          <p class="feature-desc">
            PraktinÄ—s technikos streso maÅ¾inimui, nerimo simptomÅ³ valdymui ir ramybÄ—s atkÅ«rimui su AI personalizacija
          </p>
          <div class="feature-cta">
            <button class="btn btn-primary btn-lg">Valdyti stresÄ…</button>
          </div>
        </div>
      </div>

      <div class="feature-card" data-feature="cbt-techniques">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1499209974431-9dddcece7f88?w=400&h=300&fit=crop');">
          <div class="feature-icon">ğŸ§ </div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">KognityvinÄ—s technikos</h3>
          <p class="feature-desc">
            CBT metodai, minÄiÅ³ restruktÅ«rizavimas, neigiamÅ³ Ä¯sitikinimÅ³ keitimas ir pozityvaus mÄ…stymo ugdymas
          </p>
          <div class="feature-cta">
            <button class="btn btn-secondary btn-lg">Keisti mintis</button>
          </div>
        </div>
      </div>

      <div class="feature-card" data-feature="emotion-regulation">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400&h=300&fit=crop');">
          <div class="feature-icon">â¤ï¸</div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">EmocijÅ³ reguliavimas</h3>
          <p class="feature-desc">
            Emocinio intelekto ugdymas, jausmÅ³ atpaÅ¾inimas, valdymas ir sveiki bÅ«dai iÅ¡reikÅ¡ti emocijas
          </p>
          <div class="feature-cta">
            <button class="btn btn-lg">Valdyti emocijas</button>
          </div>
        </div>
      </div>

      <div class="feature-card" data-feature="sleep-wellness">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1541781774459-bb2af2f05b55?w=400&h=300&fit=crop');">
          <div class="feature-icon">ğŸŒ™</div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">Miego ir gerovÄ—s</h3>
          <p class="feature-desc">
            Miego higiena, atsipalaidavimo technikos, Å¾valumas dienÄ… ir natÅ«ralÅ«s bÅ«dai pagerinti poilsÄ¯
          </p>
          <div class="feature-cta">
            <button class="btn btn-lg">Gerinti miegÄ…</button>
          </div>
        </div>
      </div>

      <div class="feature-card" data-feature="relationships">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1521737604893-d14cc237f11d?w=400&h=300&fit=crop');">
          <div class="feature-icon">ğŸ‘¥</div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">SantykiÅ³ gerinimas</h3>
          <p class="feature-desc">
            Komunikacijos Ä¯gÅ«dÅ¾iai, konfliktÅ³ sprendimas, empatijos ugdymas ir sveikÅ³ ribÅ³ nustatymas
          </p>
          <div class="feature-cta">
            <button class="btn btn-lg">Gerinti santykius</button>
          </div>
        </div>
      </div>

      <div class="feature-card" data-feature="mindfulness">
        <div class="feature-header" style="background-image: url('https://images.unsplash.com/photo-1510894347713-fc3ed6fdf539?w=400&h=300&fit=crop');">
          <div class="feature-icon">ğŸŒ¸</div>
        </div>
        <div class="feature-content">
          <h3 class="feature-title">Mindfulness ir meditacija</h3>
          <p class="feature-desc">
            SÄ…moningumo praktikos, meditacijos technikos, dabartinio momento suvokimas ir dÄ—mesingumo ugdymas
          </p>
          <div class="feature-cta">
            <button class="btn btn-lg">Medituoti dabar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Chat Section -->
    <div class="chat-section">
      <div class="chat-header">
        <div class="chat-title">ğŸ§  AI Psichikos sveikatos padÄ—jÄ—jas</div>
        <div class="ai-status">
          <span class="status-dot"></span>
          Aktyvus ir pasiruoÅ¡Ä™s padÄ—ti su psichikos sveikata ir gerove
        </div>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="message ai">
          <div class="message-avatar">AI</div>
          <div class="message-content">
            Sveiki! Esu jÅ«sÅ³ AI psichikos sveikatos padÄ—jÄ—jas. Galiu pasiÅ«lyti technikos streso valdymui, mindfulness pratimus ar atsakyti Ä¯ klausimus apie gerovÄ™. Kaip Å¡iandien jauÄiatÄ—s?
            <div class="disclaimer">
              <div class="disclaimer-text">
                <strong>Priminimas:</strong> Teikiu edukacinÄ™ informacijÄ…, ne profesionalÅ³ gydymÄ…. Rimtais atvejais kreipkitÄ—s Ä¯ specialistÄ….
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="chat-input">
        <div class="input-group">
          <textarea 
            class="message-input" 
            id="messageInput" 
            placeholder="Papasakokite, kaip jauÄiatÄ—s ar uÅ¾duokite klausimÄ… apie psichikos sveikatÄ…..."
            rows="1"
          ></textarea>
          <button class="send-btn" id="sendBtn">â†’</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Overlay -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="modal">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Feature Title</h2>
        <button class="modal-close" id="modalClose">Ã—</button>
      </div>
      <div class="modal-body" id="modalContent">
        <!-- Content will be loaded here -->
      </div>
    </div>
  </div>

  <script>
    // Global state
    let currentFeature = null;
    let chatHistory = [];
    let messageCount = 0;
    
    // Safety tracking
    let concerningMessageCount = 0;
    let lastCrisisCheck = Date.now();

    // DOM elements
    const modalOverlay = document.getElementById('modalOverlay');
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');
    const modalClose = document.getElementById('modalClose');
    const chatMessages = document.getElementById('chatMessages');
    const messageInput = document.getElementById('messageInput');
    const sendBtn = document.getElementById('sendBtn');

    // Feature content templates with enhanced safety
    const featureContent = {
      'stress-anxiety': {
        title: 'ğŸ§˜ Streso ir nerimo valdymas',
        content: `
          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Svarbu:</strong> Jei streso ar nerimo simptomai trikdo kasdienÄ¯ gyvenimÄ… ilgiau nei 2 savaites, rekomenduojama kreiptis Ä¯ psichikos sveikatos specialistÄ….
            </div>
          </div>
          
          <div class="techniques-grid">
            <div class="technique-card" data-technique="breathing">
              <div style="font-size: 48px; margin-bottom: 12px;">ğŸ«</div>
              <h4>KvÄ—pavimo technikos</h4>
              <p style="color: var(--text-secondary); font-size: 12px;">4-7-8, box breathing</p>
            </div>
            <div class="technique-card" data-technique="grounding">
              <div style="font-size: 48px; margin-bottom: 12px;">ğŸŒ±</div>
              <h4>Grounding exercises</h4>
              <p style="color: var(--text-secondary); font-size: 12px;">5-4-3-2-1 technika</p>
            </div>
            <div class="technique-card" data-technique="progressive">
              <div style="font-size: 48px; margin-bottom: 12px;">ğŸ’†</div>
              <h4>Progresyvus atsipalaidavimas</h4>
              <p style="color: var(--text-secondary); font-size: 12px;">RaumenÅ³ Ä¯tampos maÅ¾inimas</p>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>âš¡ Greitoji pagalba nerimo priepuoliui:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ LÄ—tas kvÄ—pavimas: Ä¯kvÄ—pimas 4 sek, iÅ¡kvÄ—pimas 6 sek<br>
                â€¢ Pavadinkit 5 daiktus, kuriuos matote<br>
                â€¢ Palieskit 4 skirtingas tekstÅ«ras<br>
                â€¢ IÅ¡girskite 3 garsus aplinkoje<br>
                â€¢ Pajuskite 2 kvapus ir 1 skonÄ¯
              </p>
            </div>
          </div>

          <div class="emergency-notice" style="margin-top: 20px;">
            <div class="emergency-title">Kada kreiptis Ä¯ specialistÄ…?</div>
            <div class="emergency-text">â€¢ Simptomai tÄ™siasi ilgiau nei 2 savaites<br>â€¢ Trikdo darbÄ…, mokslus ar santykius<br>â€¢ Atsiranda savÅ¾udybÄ—s mintys</div>
            <div style="margin-top: 12px;">
              <strong>116 123 - Vilties linija (24/7)</strong>
            </div>
          </div>
        `
      },
      
      'cbt-techniques': {
        title: 'ğŸ§  KognityvinÄ—s technikos',
        content: `
          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Pastaba:</strong> CBT technikos yra efektyvios, taÄiau profesionalaus CBT terapeuto pagalba yra daug efektyvesnÄ— nei savarankiÅ¡kas taikymas.
            </div>
          </div>

          <div style="margin: 24px 0;">
            <h4>ğŸ” MinÄiÅ³ stebÄ—jimas ir keitimas:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ <strong>AutomatinÄ—s mintys:</strong> AtpaÅ¾inkite neigiamas mintis<br>
                â€¢ <strong>MinÄiÅ³ tikrinimas:</strong> "Ar tai faktas ar nuomonÄ—?"<br>
                â€¢ <strong>RestruktÅ«rizavimas:</strong> Pakeiskite realistesnÄ— perspektyva<br>
                â€¢ <strong>Balanced thinking:</strong> IeÅ¡kokite vidurinio kelio
              </p>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>ğŸ“ CBT uÅ¾duotys:</h4>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin: 16px 0;">
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>MinÄiÅ³ Å¾urnalas</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">UÅ¾raÅ¡ykite neigiamas mintis ir alternatyvas</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>Behavioral experiments</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Testuokite savo Ä¯sitikinimus</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>Katastrofizavimo stop</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">"Kas blogiausio gali nutikti?"</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>PozityviÅ³ Ä¯rodymÅ³ paieÅ¡ka</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Faktai, prieÅ¡taraujantys neigiamoms mintims</p>
              </div>
            </div>
          </div>
        `
      },
      
      'emotion-regulation': {
        title: 'â¤ï¸ EmocijÅ³ reguliavimas',
        content: `
          <div class="emotion-cards">
            <div class="emotion-card" data-emotion="anger">
              <div style="font-size: 32px; margin-bottom: 8px;">ğŸ˜ </div>
              <h5>Pyktis</h5>
              <p style="color: var(--text-secondary); font-size: 10px;">Valdymo strategijos</p>
            </div>
            <div class="emotion-card" data-emotion="sadness">
              <div style="font-size: 32px; margin-bottom: 8px;">ğŸ˜¢</div>
              <h5>LiÅ«desys</h5>
              <p style="color: var(--text-secondary); font-size: 10px;">Healing techniques</p>
            </div>
            <div class="emotion-card" data-emotion="anxiety">
              <div style="font-size: 32px; margin-bottom: 8px;">ğŸ˜°</div>
              <h5>Nerimas</h5>
              <p style="color: var(--text-secondary); font-size: 10px;">Calming methods</p>
            </div>
            <div class="emotion-card" data-emotion="joy">
              <div style="font-size: 32px; margin-bottom: 8px;">ğŸ˜Š</div>
              <h5>DÅ¾iaugsmas</h5>
              <p style="color: var(--text-secondary); font-size: 10px;">Sustaining happiness</p>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>ğŸ¯ Emocinio intelekto ugdymas:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ <strong>AtpaÅ¾inimas:</strong> "KokiÄ… emocijÄ… jauÄiu dabar?"<br>
                â€¢ <strong>Supratimas:</strong> "KodÄ—l jauÄiu Å¡itÄ…?"<br>
                â€¢ <strong>Pavadinimas:</strong> Suteikite emocijai konkretÅ³ pavadinimÄ…<br>
                â€¢ <strong>Reguliavimas:</strong> Pasirinkite sveikus reagavimo bÅ«dus<br>
                â€¢ <strong>IÅ¡raiÅ¡ka:</strong> Saugiai ir konstruktyviai iÅ¡reikÅ¡kite
              </p>
            </div>
          </div>

          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Atminkite:</strong> IntensyvÅ«s ar ilgalaikiai emocijÅ³ reguliavimo sunkumai gali reikalauti profesionalios pagalbos.
            </div>
          </div>
        `
      },
      
      'sleep-wellness': {
        title: 'ğŸŒ™ Miego ir gerovÄ—s optimizavimas',
        content: `
          <div class="wellness-metrics">
            <div class="metric-card">
              <div class="metric-number">7-9h</div>
              <div class="metric-label">Rekomenduojamas miegas</div>
            </div>
            <div class="metric-card">
              <div class="metric-number">10:30</div>
              <div class="metric-label">Ideal bedtime</div>
            </div>
            <div class="metric-card">
              <div class="metric-number">15min</div>
              <div class="metric-label">Wind-down routine</div>
            </div>
            <div class="metric-card">
              <div class="metric-number">18-22Â°C</div>
              <div class="metric-label">Miegamojo temperatÅ«ra</div>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>ğŸ˜´ Miego higienos principai:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ Nuoseklus miego reÅ¾imas (net savaitgaliais)<br>
                â€¢ Vengti ekranÅ³ 1 valanda prieÅ¡ miegÄ…<br>
                â€¢ Tamsi, vÄ—si ir tyli miegamojo aplinka<br>
                â€¢ Vengti kofeino po 14:00<br>
                â€¢ Regular daytime light exposure<br>
                â€¢ Fizinis aktyvumas, bet ne prieÅ¡ miegÄ…
              </p>
            </div>
          </div>
          
          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Kada kreiptis Ä¯ gydytojÄ…:</strong> Jei miego problemos tÄ™siasi ilgiau nei mÄ—nesÄ¯ ar stipriai paveiks kasdienÄ¯ funkcionalumÄ….
            </div>
          </div>
        `
      },
      
      'relationships': {
        title: 'ğŸ‘¥ SantykiÅ³ gerinimas',
        content: `
          <div style="margin: 24px 0;">
            <h4>ğŸ’¬ Komunikacijos Ä¯gÅ«dÅ¾iai:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ <strong>Aktyvus klausymas:</strong> DÄ—mesys to asmens Å¾odÅ¾iams<br>
                â€¢ <strong>"AÅ¡" teiginiai:</strong> "AÅ¡ jauÄiu..." vietoj "Tu visada..."<br>
                â€¢ <strong>Empatija:</strong> PamÄ—gink suprasti kito perspektyvÄ…<br>
                â€¢ <strong>Assertyvumas:</strong> IÅ¡reikÅ¡k poreikius be agresijos<br>
                â€¢ <strong>KonfliktÅ³ sprendimas:</strong> Focus on solutions, not blame
              </p>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>ğŸš§ SveikÅ³ ribÅ³ nustatymas:</h4>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin: 16px 0;">
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>EmocionalinÄ—s ribos</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Protect your emotional wellbeing</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>FizinÄ—s ribos</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Personal space ir comfort levels</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>Laiko ribos</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Balance between giving ir receiving</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px;">
                <h5>Digital boundaries</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">Healthy technology use</p>
              </div>
            </div>
          </div>

          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Pastaba:</strong> Jei santykiai yra destruktyvÅ«s ar pavojingi, kreipkitÄ—s Ä¯ specialistÄ… ar pagalbos linijÄ….
            </div>
          </div>
        `
      },
      
      'mindfulness': {
        title: 'ğŸŒ¸ Mindfulness ir meditacija',
        content: `
          <div style="margin: 24px 0;">
            <h4>ğŸ§˜ Meditacijos tipai:</h4>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin: 16px 0;">
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; text-align: center; cursor: pointer;" data-meditation="breath">
                <h5>Breath awareness</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">5-20 minuÄiÅ³</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; text-align: center; cursor: pointer;" data-meditation="body">
                <h5>Body scan</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">10-30 minuÄiÅ³</p>
              </div>
              <div style="background: var(--bg-card); padding: 16px; border-radius: 8px; text-align: center; cursor: pointer;" data-meditation="loving">
                <h5>Loving-kindness</h5>
                <p style="color: var(--text-secondary); font-size: 12px;">10-15 minuÄiÅ³</p>
              </div>
            </div>
          </div>
          
          <div style="margin: 24px 0;">
            <h4>ğŸ¯ SÄ…moningumo praktikos kasdienybÄ—je:</h4>
            <div style="background: var(--bg-elevated); padding: 20px; border-radius: 16px; margin: 16px 0;">
              <p style="color: var(--text-secondary);">
                â€¢ Mindful eating: DÄ—mesys skoniui ir tekstÅ«rai<br>
                â€¢ Walking meditation: DÄ—mesys kiekvienam Å¾ingsniui<br>
                â€¢ Present moment awareness: "KÄ… jauÄiu dabar?"<br>
                â€¢ Gratitude practice: 3 dalykai per dienÄ…<br>
                â€¢ Digital detox: Regular screen-free periods
              </p>
            </div>
          </div>
          
          <div class="disclaimer">
            <div class="disclaimer-text">
              <strong>Pastaba:</strong> PradÄ—kite nuo trumpÅ³ sesijÅ³ (5-10 min). Meditacija turÄ—tÅ³ bÅ«ti malonÅ«s, ne streso Å¡altinis.
            </div>
          </div>
        `
      }
    };

    // Enhanced crisis detection
    function detectCrisisLanguage(message) {
      const crisisKeywords = [
        'saviÅ¾udyb', 'nuÅ¾udyti save', 'noriu mirti', 'baigti gyvenimÄ…', 
        'nenoriu gyventi', 'prarasti norÄ… gyventi', 'suicid', 'nunuody',
        'pasikarti', 'nuÅ¡okti', 'savÄ™s Å¾alojim', 'self harm', 'nepakeliama',
        'niekas nebegali padÄ—ti', 'be iÅ¡eities', 'vieniÅ¡as kaip Å¡uo'
      ];
      
      const concerningKeywords = [
        'depresi', 'beprasmyb', 'nevilt', 'desperaci', 'panik', 'bijo', 
        'neramu', 'stresa', 'varginant'
      ];
      
      const msgLower = message.toLowerCase();
      
      // Crisis detection
      if (crisisKeywords.some(keyword => msgLower.includes(keyword))) {
        return 'crisis';
      }
      
      // Concerning content tracking
      if (concerningKeywords.some(keyword => msgLower.includes(keyword))) {
        concerningMessageCount++;
        if (concerningMessageCount >= 3) {
          return 'concerning';
        }
      }
      
      return false;
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      initializeEventListeners();
      console.log('ğŸ›¡ï¸ Psichologo AI asistentas su saugumo funkcijomis paleistas!');
    });

    function initializeEventListeners() {
      // Feature card clicks
      document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('click', function() {
          const feature = this.dataset.feature;
          openModal(feature);
        });
      });

      // Modal close events
      modalClose.addEventListener('click', closeModal);
      
      modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay) {
          closeModal();
        }
      });

      // Escape key to close
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
          closeModal();
        }
      });

      // Chat functionality
      sendBtn.addEventListener('click', sendMessage);
      
      messageInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      });

      // Auto-resize textarea
      messageInput.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = Math.min(this.scrollHeight, 120) + 'px';
      });
    }

    function openModal(feature) {
      currentFeature = feature;
      const content = featureContent[feature];
      
      if (content) {
        modalTitle.innerHTML = content.title;
        modalContent.innerHTML = content.content;
        modalOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Bind events for new content
        bindContentEvents();
      }
    }

    function closeModal() {
      modalOverlay.classList.remove('active');
      document.body.style.overflow = '';
      setTimeout(() => {
        modalContent.innerHTML = '';
        modalTitle.innerHTML = '';
        currentFeature = null;
      }, 300);
    }

    function bindContentEvents() {
      // Technique cards
      document.querySelectorAll('.technique-card').forEach(card => {
        card.addEventListener('click', function() {
          const technique = this.dataset.technique;
          const techniqueNames = {
            breathing: 'kvÄ—pavimo technikas',
            grounding: 'grounding exercises',
            progressive: 'progresyvÅ³ atsipalaidavimÄ…'
          };
          sendChatMessage(`Noriu iÅ¡mokti ${techniqueNames[technique]} streso valdymui`);
          closeModal();
        });
      });

      // Emotion cards
      document.querySelectorAll('.emotion-card').forEach(card => {
        card.addEventListener('click', function() {
          const emotion = this.dataset.emotion;
          const emotionNames = {
            anger: 'pykÄio valdymo',
            sadness: 'liÅ«desio Ä¯veikimo',
            anxiety: 'nerimo maÅ¾inimo',
            joy: 'dÅ¾iaugsmo iÅ¡laikymo'
          };
          sendChatMessage(`Reikia pagalbos su ${emotionNames[emotion]} strategijomis`);
          closeModal();
        });
      });

      // Meditation cards
      document.querySelectorAll('[data-meditation]').forEach(card => {
        card.addEventListener('click', function() {
          const meditation = this.dataset.meditation;
          const meditationNames = {
            breath: 'kvÄ—pavimo meditacijÄ…',
            body: 'body scan meditacijÄ…',
            loving: 'loving-kindness meditacijÄ…'
          };
          sendChatMessage(`Noriu pradÄ—ti ${meditationNames[meditation]} su AI pagalba`);
          closeModal();
        });
      });
    }

    function sendMessage() {
      const message = messageInput.value.trim();
      if (!message) return;
      
      // Enhanced crisis detection
      const crisisLevel = detectCrisisLanguage(message);
      if (crisisLevel === 'crisis') {
        addCrisisResponse();
        return;
      } else if (crisisLevel === 'concerning') {
        addConcernResponse();
      }
      
      sendChatMessage(message);
      messageInput.value = '';
      messageInput.style.height = 'auto';
    }

    function addCrisisResponse() {
      const crisisDiv = document.createElement('div');
      crisisDiv.className = 'message ai';
      crisisDiv.innerHTML = `
        <div class="message-avatar">AI</div>
        <div class="message-content">
          <div class="emergency-notice" style="margin: 0;">
            <div class="emergency-title">âš ï¸ Skubiai reikia pagalbos</div>
            <div class="emergency-text">JÅ«sÅ³ saugumas yra svarbiausias. PraÅ¡au nedelsiant kreipkitÄ—s:</div>
            <div style="margin: 12px 0;">
              <strong>116 123 - Vilties linija (24/7)</strong><br>
              <strong>112 - Skubios pagalbos tarnyba</strong><br>
              <strong>8-800-28888 - Jaunimo linija</strong>
            </div>
            <div style="font-size: 14px; color: var(--text-secondary);">
              JÅ«s nesate vienas. ProfesionalÅ«s specialistai gali padÄ—ti. JÅ«sÅ³ gyvenimas yra vertingas.
            </div>
          </div>
        </div>
      `;
      
      chatMessages.appendChild(crisisDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Clear input for safety
      messageInput.value = '';
    }

    function addConcernResponse() {
      const concernDiv = document.createElement('div');
      concernDiv.className = 'message ai';
      concernDiv.innerHTML = `
        <div class="message-avatar">AI</div>
        <div class="message-content">
          Pastebiu, kad jauÄiatÄ—s sunkiai. NorÄ—Äiau priminti, kad profesionali pagalba yra prieinama:
          <div style="margin: 12px 0; padding: 12px; background: var(--bg-elevated); border-radius: 8px;">
            <strong>ğŸ“ Pagalbos kontaktai:</strong><br>
            116 123 - Vilties linija (24/7)<br>
            8-800-77277 - PsichologinÄ— pagalba<br>
            8-800-28888 - Jaunimo linija
          </div>
          Kuo galiu padÄ—ti Å¡iandien?
        </div>
      `;
      
      chatMessages.appendChild(concernDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function sendChatMessage(message) {
      // Add user message
      addChatMessage(message, true);
      chatHistory.push({ role: 'user', content: message });
      messageCount++;
      
      // Show typing indicator
      const typingIndicator = addTypingIndicator();
      
      // Simulate AI processing
      setTimeout(() => {
        removeTypingIndicator(typingIndicator);
        
        // Generate AI response
        const response = generateAIResponse(message);
        addChatMessage(response, false);
        chatHistory.push({ role: 'assistant', content: response });
        
      }, 1000 + Math.random() * 1500);
    }

    function addChatMessage(content, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'ai'}`;
      
      const disclaimerHtml = !isUser ? `
        <div class="disclaimer" style="margin-top: 12px;">
          <div class="disclaimer-text">
            <strong>Priminimas:</strong> Tai edukacinÄ— informacija. Rimtais atvejais kreipkitÄ—s Ä¯ specialistÄ….
          </div>
        </div>
      ` : '';
      
      messageDiv.innerHTML = `
        <div class="message-avatar">${isUser ? 'ğŸ‘¤' : 'AI'}</div>
        <div class="message-content">${content}${disclaimerHtml}</div>
      `;
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function addTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'message ai typing-indicator-msg';
      typingDiv.innerHTML = `
        <div class="message-avatar">AI</div>
        <div class="message-content">
          <div class="typing-indicator">
            <span>AI atsako</span>
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          </div>
        </div>
      `;
      
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      return typingDiv;
    }

    function removeTypingIndicator(indicator) {
      if (indicator && indicator.parentNode) {
        indicator.remove();
      }
    }

    function generateAIResponse(message) {
      const msg = message.toLowerCase();
      
      // Stress and anxiety responses
      if (msg.includes('stresas') || msg.includes('nerimas') || msg.includes('anxiety')) {
        return `Suprantu, kad jauÄiate stresÄ… ar nerimÄ…. Å tai keletas technikÅ³, kurios gali padÄ—ti:<br><br><strong>Greitoji pagalba:</strong><br>â€¢ 4-7-8 kvÄ—pavimo technika (Ä¯kvÄ—pimas 4s, sulaikymas 7s, iÅ¡kvÄ—pimas 8s)<br>â€¢ 5-4-3-2-1 grounding: 5 daiktai, kuriuos matote, 4 - kuriuos galite paliesti, 3 - kuriuos girdite, 2 - kuriuos kvepiare, 1 - kurÄ¯ ragaujar<br>â€¢ Progresyvus raumenÅ³ atsipalaidavimas<br><br>Jei simptomai tÄ™siasi ilgiau nei 2 savaites, rekomenduoju kreiptis Ä¯ specialistÄ….`;
      }
      
      // Sleep responses
      if (msg.includes('miego') || msg.includes('mieg') || msg.includes('nemieg')) {
        return `Miego problemos paveiks visÄ… gerovÄ™. Å tai miego higienos principai:<br><br><strong>Miego optimizavimas:</strong><br>â€¢ Nuoseklus reÅ¾imas (eiti miegoti ir keltis tuo paÄiu laiku)<br>â€¢ Vengti ekranÅ³ 1 valandÄ… prieÅ¡ miegÄ…<br>â€¢ Tamsi, vÄ—si aplinka (18-22Â°C)<br>â€¢ Atsipalaidavimo rutina prieÅ¡ miegÄ…<br><br>Jei problemos tÄ™siasi >1 mÄ—nesio, rekomenduoju konsultuotis su gydytoju.`;
      }
      
      // CBT and thoughts responses
      if (msg.includes('minti') || msg.includes('negativ') || msg.includes('depresi')) {
        return `Neigiamos mintys gali paveikti nuotaikÄ…. CBT technikos gali padÄ—ti:<br><br><strong>MinÄiÅ³ restruktÅ«rizavimas:</strong><br>â€¢ AtpaÅ¾inkite automatines neigiamas mintis<br>â€¢ UÅ¾duokite klausimÄ…: "Ar tai faktas ar nuomonÄ—?"<br>â€¢ IeÅ¡kokite balanced perspektyvos<br>â€¢ Practice pozityvÅ³ savÄ™s kalbÄ—jimÄ…<br><br>CBT terapeuto pagalba bus daug efektyvesnÄ— nei savarankiÅ¡kas taikymas.`;
      }
      
      // Mindfulness responses
      if (msg.includes('meditacij') || msg.includes('mindfulness') || msg.includes('sÄ…moning')) {
        return `Mindfulness praktikos gali sumaÅ¾inti stresÄ… ir pagerinti gerovÄ™:<br><br><strong>SÄ…moningumo technikos:</strong><br>â€¢ Breath awareness meditation (5-20 min)<br>â€¢ Body scan practice<br>â€¢ Present moment awareness<br>â€¢ Gratitude exercises<br><br>PradÄ—kite nuo trumpÅ³ sesijÅ³ (5-10 min). Meditacija turÄ—tÅ³ bÅ«ti maloni, ne streso Å¡altinis.`;
      }
      
      // Default supportive responses
      const defaultResponses = [
        `DÄ—koju, kad pasidalijote savo jausmais. Kiekvieno Å¾mogaus patirtis yra svarbi. Galiu pasiÅ«lyti Ä¯vairias technikas gerovÄ—s gerinimui - nuo streso valdymo iki mindfulness praktikÅ³. Prisiminkit, kad pagalbos ieÅ¡kojimas yra stiprybÄ—s Å¾enklas.`,
        
        `Psichikos sveikata yra lygiai taip pat svarbi kaip ir fizinÄ—. Galiu padÄ—ti su konkreÄiais sprendimais, taÄiau jei jauÄiate, kad reikia daugiau pagalbos, nesukolebkite kreiptis Ä¯ specialistÄ….`,
        
        `Suprantu, kad gali bÅ«ti sunku. JÅ«sÅ³ jausmai yra validÅ«s ir suprantami. KokiÄ… sritÄ¯ domintÅ³ labiausiai - streso valdymas, miego gerinimas ar gal emocijÅ³ reguliavimas?`
      ];
      
      return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
    }
  </script>
</body>
</html>
